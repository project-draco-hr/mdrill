{
  if (data != null) {
    map.setMap(data);
    binlog.append(map);
    needflush=true;
  }
 else {
    try {
      Thread.sleep(100);
    }
 catch (    InterruptedException e1) {
    }
  }
  if (needflush && !this.isIsstop()) {
    long t2=System.currentTimeMillis();
    if (t2 - t1 > 1000l) {
      binlog.flush();
      needflush=false;
      t1=t2;
    }
  }
}
