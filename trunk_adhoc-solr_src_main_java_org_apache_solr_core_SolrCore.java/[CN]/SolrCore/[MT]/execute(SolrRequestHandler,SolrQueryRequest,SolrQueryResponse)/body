{
  if (handler == null) {
    String msg="Null Request Handler '" + req.getParams().get(CommonParams.QT) + "'";
    if (log.isWarnEnabled())     log.warn(logid + msg + ":"+ req);
    throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,msg,true);
  }
  final NamedList<Object> responseHeader=new SimpleOrderedMap<Object>();
  rsp.add("responseHeader",responseHeader);
  handler.handleRequest(req,rsp);
  setResponseHeaderValues(handler,req,rsp);
}
