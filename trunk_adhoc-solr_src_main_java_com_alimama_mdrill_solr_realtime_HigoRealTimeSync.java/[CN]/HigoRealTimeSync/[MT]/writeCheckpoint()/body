{
  this.checkpointindex++;
  if (this.checkpointindex > 10) {
    this.checkpointindex=0;
  }
  FSDirectory fsdir=FSDirectory.open(new File(basePath + "/checkpointpos_" + this.checkpointindex));
  String[] list=fsdir.listAll();
  for (  String tdel : list) {
    fsdir.deleteFile(tdel);
  }
  Directory d=core.getDirectoryFactory().open(core.getIndexDir(this.day));
  for (  String fname : d.listAll()) {
    d.copy(fsdir,fname,fname);
  }
}
