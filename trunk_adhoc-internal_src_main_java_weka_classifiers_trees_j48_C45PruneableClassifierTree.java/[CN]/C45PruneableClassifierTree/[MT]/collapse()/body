{
  double errorsOfSubtree;
  double errorsOfTree;
  int i;
  if (!m_isLeaf) {
    errorsOfSubtree=getTrainingErrors();
    errorsOfTree=localModel().distribution().numIncorrect();
    if (errorsOfSubtree >= errorsOfTree - 1E-3) {
      m_sons=null;
      m_isLeaf=true;
      m_localModel=new NoSplit(localModel().distribution());
    }
 else     for (i=0; i < m_sons.length; i++)     son(i).collapse();
  }
}
