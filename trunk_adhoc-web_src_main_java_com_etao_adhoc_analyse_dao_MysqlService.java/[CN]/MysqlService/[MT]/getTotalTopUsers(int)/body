{
  String sql="SELECT nick,query_cnt FROM total_user_pv" + " ORDER BY query_cnt" + " DESC LIMIT ?";
  List<TotalUserPv> totalUserPvList=null;
  PreparedStatement pstmt=null;
  try {
    Connection conn=DriverManager.getConnection(url,username,password);
    pstmt=conn.prepareStatement(sql);
    pstmt.setInt(1,length);
    ResultSet rs=pstmt.executeQuery();
    totalUserPvList=new ArrayList<TotalUserPv>();
    while (rs.next()) {
      TotalUserPv totalUserPv=new TotalUserPv();
      totalUserPv.setNick(rs.getString(1));
      totalUserPv.setQueryCnt(rs.getInt(2));
      totalUserPvList.add(totalUserPv);
    }
    LOG.info(pstmt.toString());
    pstmt.close();
    conn.close();
  }
 catch (  SQLException e) {
    String debugsql="";
    if (pstmt != null) {
      debugsql=pstmt.toString();
    }
    LOG.error(debugsql,e);
  }
  return totalUserPvList;
}
