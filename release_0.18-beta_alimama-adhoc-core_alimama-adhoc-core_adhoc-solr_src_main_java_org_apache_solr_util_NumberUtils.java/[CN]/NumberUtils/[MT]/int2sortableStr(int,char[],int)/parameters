int val
char[] out
int offset
