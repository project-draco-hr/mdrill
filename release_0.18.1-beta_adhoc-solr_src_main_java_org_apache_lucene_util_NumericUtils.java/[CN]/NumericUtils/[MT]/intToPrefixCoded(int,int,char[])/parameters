int val
int shift
char[] buffer
