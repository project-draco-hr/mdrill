{
  HostFreePorts hostFreePorts=new HostFreePorts(params);
  hostFreePorts.parse(freeResource);
  Map<Integer,NodePort> rtn=new HashMap<Integer,NodePort>();
  rtn.putAll(assignment(hostFreePorts.shard,freeResource.shard,jobids.shardTask,this.index2host.shardfixdMap));
  rtn.putAll(assignment(hostFreePorts.ms,freeResource.ms,jobids.msTask,this.index2host.mergerMap));
  rtn.putAll(assignment(hostFreePorts.realtime,freeResource.realtime,jobids.realtimeTask,this.index2host.realtimeMap));
  return rtn;
}
