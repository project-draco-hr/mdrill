{
  setSize(WIDTH,HEIGHT);
  setConfirmExit(false);
  setLayout(new BorderLayout());
  fileChooser=new ConverterFileChooser(new File(System.getProperty("user.dir")));
  fileChooser.setMultiSelectionEnabled(true);
  menuBar=new JMenuBar();
  menuFile=new JMenu("File");
  menuFileOpen=new JMenuItem("Open...",ComponentHelper.getImageIcon("open.gif"));
  menuFileOpen.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_O,KeyEvent.CTRL_MASK));
  menuFileOpen.addActionListener(this);
  menuFileSave=new JMenuItem("Save",ComponentHelper.getImageIcon("save.gif"));
  menuFileSave.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_S,KeyEvent.CTRL_MASK));
  menuFileSave.addActionListener(this);
  menuFileSaveAs=new JMenuItem("Save as...",ComponentHelper.getImageIcon("empty.gif"));
  menuFileSaveAs.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_S,KeyEvent.CTRL_MASK + KeyEvent.SHIFT_MASK));
  menuFileSaveAs.addActionListener(this);
  menuFileClose=new JMenuItem("Close",ComponentHelper.getImageIcon("empty.gif"));
  menuFileClose.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_W,KeyEvent.CTRL_MASK));
  menuFileClose.addActionListener(this);
  menuFileCloseAll=new JMenuItem("Close all",ComponentHelper.getImageIcon("empty.gif"));
  menuFileCloseAll.addActionListener(this);
  menuFileProperties=new JMenuItem("Properties",ComponentHelper.getImageIcon("empty.gif"));
  menuFileProperties.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_ENTER,KeyEvent.CTRL_MASK));
  menuFileProperties.addActionListener(this);
  menuFileExit=new JMenuItem("Exit",ComponentHelper.getImageIcon("forward.gif"));
  menuFileExit.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_X,KeyEvent.ALT_MASK));
  menuFileExit.addActionListener(this);
  menuFile.add(menuFileOpen);
  menuFile.add(menuFileSave);
  menuFile.add(menuFileSaveAs);
  menuFile.add(menuFileClose);
  menuFile.add(menuFileCloseAll);
  menuFile.addSeparator();
  menuFile.add(menuFileProperties);
  menuFile.addSeparator();
  menuFile.add(menuFileExit);
  menuBar.add(menuFile);
  menuEdit=new JMenu("Edit");
  menuEditUndo=new JMenuItem("Undo",ComponentHelper.getImageIcon("undo.gif"));
  menuEditUndo.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_Z,KeyEvent.CTRL_MASK));
  menuEditUndo.addActionListener(this);
  menuEditCopy=new JMenuItem("Copy",ComponentHelper.getImageIcon("copy.gif"));
  menuEditCopy.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_INSERT,KeyEvent.CTRL_MASK));
  menuEditCopy.addActionListener(this);
  menuEditSearch=new JMenuItem("Search...",ComponentHelper.getImageIcon("find.gif"));
  menuEditSearch.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_F,KeyEvent.CTRL_MASK));
  menuEditSearch.addActionListener(this);
  menuEditClearSearch=new JMenuItem("Clear search",ComponentHelper.getImageIcon("empty.gif"));
  menuEditClearSearch.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_F,KeyEvent.CTRL_MASK + KeyEvent.SHIFT_MASK));
  menuEditClearSearch.addActionListener(this);
  menuEditRenameAttribute=new JMenuItem("Rename attribute",ComponentHelper.getImageIcon("empty.gif"));
  menuEditRenameAttribute.addActionListener(this);
  menuEditAttributeAsClass=new JMenuItem("Attribute as class",ComponentHelper.getImageIcon("empty.gif"));
  menuEditAttributeAsClass.addActionListener(this);
  menuEditDeleteAttribute=new JMenuItem("Delete attribute",ComponentHelper.getImageIcon("empty.gif"));
  menuEditDeleteAttribute.addActionListener(this);
  menuEditDeleteAttributes=new JMenuItem("Delete attributes",ComponentHelper.getImageIcon("empty.gif"));
  menuEditDeleteAttributes.addActionListener(this);
  menuEditDeleteInstance=new JMenuItem("Delete instance",ComponentHelper.getImageIcon("empty.gif"));
  menuEditDeleteInstance.addActionListener(this);
  menuEditDeleteInstances=new JMenuItem("Delete instances",ComponentHelper.getImageIcon("empty.gif"));
  menuEditDeleteInstances.addActionListener(this);
  menuEditSortInstances=new JMenuItem("Sort data (ascending)",ComponentHelper.getImageIcon("sort.gif"));
  menuEditSortInstances.addActionListener(this);
  menuEdit.add(menuEditUndo);
  menuEdit.addSeparator();
  menuEdit.add(menuEditCopy);
  menuEdit.addSeparator();
  menuEdit.add(menuEditSearch);
  menuEdit.add(menuEditClearSearch);
  menuEdit.addSeparator();
  menuEdit.add(menuEditRenameAttribute);
  menuEdit.add(menuEditAttributeAsClass);
  menuEdit.add(menuEditDeleteAttribute);
  menuEdit.add(menuEditDeleteAttributes);
  menuEdit.addSeparator();
  menuEdit.add(menuEditDeleteInstance);
  menuEdit.add(menuEditDeleteInstances);
  menuEdit.add(menuEditSortInstances);
  menuBar.add(menuEdit);
  menuView=new JMenu("View");
  menuViewAttributes=new JMenuItem("Attributes...",ComponentHelper.getImageIcon("objects.gif"));
  menuViewAttributes.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_A,KeyEvent.CTRL_MASK + KeyEvent.SHIFT_MASK));
  menuViewAttributes.addActionListener(this);
  menuViewValues=new JMenuItem("Values...",ComponentHelper.getImageIcon("properties.gif"));
  menuViewValues.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_V,KeyEvent.CTRL_MASK + KeyEvent.SHIFT_MASK));
  menuViewValues.addActionListener(this);
  menuViewOptimalColWidths=new JMenuItem("Optimal column width (all)",ComponentHelper.getImageIcon("resize.gif"));
  menuViewOptimalColWidths.addActionListener(this);
  menuView.add(menuViewAttributes);
  menuView.add(menuViewValues);
  menuView.addSeparator();
  menuView.add(menuViewOptimalColWidths);
  menuBar.add(menuView);
  tabbedPane=new JTabbedPane();
  tabbedPane.addChangeListener(this);
  add(tabbedPane,BorderLayout.CENTER);
  updateMenu();
  updateFrameTitle();
}
