{
  if (spanQuery instanceof FieldMaskingSpanQuery) {
    collectSpanQueryFields(((FieldMaskingSpanQuery)spanQuery).getMaskedQuery(),fieldNames);
  }
 else   if (spanQuery instanceof SpanFirstQuery) {
    collectSpanQueryFields(((SpanFirstQuery)spanQuery).getMatch(),fieldNames);
  }
 else   if (spanQuery instanceof SpanNearQuery) {
    for (    final SpanQuery clause : ((SpanNearQuery)spanQuery).getClauses()) {
      collectSpanQueryFields(clause,fieldNames);
    }
  }
 else   if (spanQuery instanceof SpanNotQuery) {
    collectSpanQueryFields(((SpanNotQuery)spanQuery).getInclude(),fieldNames);
  }
 else   if (spanQuery instanceof SpanOrQuery) {
    for (    final SpanQuery clause : ((SpanOrQuery)spanQuery).getClauses()) {
      collectSpanQueryFields(clause,fieldNames);
    }
  }
 else {
    fieldNames.add(spanQuery.getField());
  }
}
