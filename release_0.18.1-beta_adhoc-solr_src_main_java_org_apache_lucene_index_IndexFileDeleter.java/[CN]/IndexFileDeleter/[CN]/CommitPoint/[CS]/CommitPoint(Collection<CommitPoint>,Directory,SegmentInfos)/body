{
  this.directory=directory;
  this.commitsToDelete=commitsToDelete;
  userData=segmentInfos.getUserData();
  segmentsFileName=segmentInfos.getCurrentSegmentFileName();
  version=segmentInfos.getVersion();
  generation=segmentInfos.getGeneration();
  files=Collections.unmodifiableCollection(segmentInfos.files(directory,true));
  segmentCount=segmentInfos.size();
}
